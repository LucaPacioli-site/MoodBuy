<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoodBuy</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg,#c3f0f2,#fbc3f5); min-height:100vh; display:flex; justify-content:center; align-items:center; transition:0.5s; }

    /* Auth */
    .auth-modal { background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); padding:40px; border-radius:25px; box-shadow:0 15px 30px rgba(0,0,0,0.2); text-align:center; width:350px; animation:fadeIn 0.8s ease; }
    .auth-modal h1 { color:#ff6f91; font-size:28px; margin-bottom:20px; }
    .auth-modal input { width:100%; padding:12px 15px; margin:10px 0; border-radius:15px; border:1px solid #ddd; outline:none; font-size:16px; }
    .auth-modal button { width:100%; padding:12px; margin-top:15px; border:none; border-radius:15px; background:#ff6f91; color:white; font-weight:600; font-size:16px; cursor:pointer; transition:0.3s; }
    .auth-modal button:hover { background:#ff3f70; }
    @keyframes fadeIn {0%{opacity:0;transform:translateY(-20px);}100%{opacity:1;transform:translateY(0);}}

    /* Dashboard */
    .dashboard { display:none; width:90%; max-width:900px; text-align:center; animation:fadeIn 0.8s ease; }
    .dashboard h2 { color:#ff6f91; font-size:28px; margin-bottom:10px; }
    .dashboard p { color:#555; margin-bottom:30px; font-size:18px; }
    .sections { display:flex; justify-content:center; gap:30px; flex-wrap:wrap; }
    .section-card { background: linear-gradient(145deg,#ffe3f0,#fbc3f5); padding:30px; border-radius:25px; width:260px; box-shadow:0 10px 20px rgba(0,0,0,0.15); cursor:pointer; transition:0.3s; text-align:left; }
    .section-card:hover { transform:translateY(-8px) scale(1.05); box-shadow:0 15px 25px rgba(0,0,0,0.2); }
    .section-card h3 { color:#ff3f70; margin-bottom:12px; font-size:22px; }
    .section-card p { color:#555; font-size:15px; line-height:1.5; }

    /* Mood Input */
    .mood-input { margin-top:30px; display:flex; justify-content:center; gap:10px; flex-wrap:wrap; }
    .mood-input input { padding:12px 15px; width:250px; border-radius:15px; border:1px solid #ddd; outline:none; font-size:16px; }
    .mood-input button { padding:12px 20px; border:none; border-radius:15px; background:#ff6f91; color:white; font-weight:600; cursor:pointer; font-size:16px; transition:0.3s; }
    .mood-input button:hover { background:#ff3f70; }

    /* AI Response */
    .ai-response { margin-top:30px; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); padding:25px; border-radius:25px; box-shadow:0 10px 20px rgba(0,0,0,0.15); max-width:650px; margin:auto; text-align:left; font-size:16px; color:#333; animation:fadeIn 0.8s ease; }

    /* Products */
    .ai-products { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:20px; margin-top:20px; }
    .product-card { background:white; border-radius:20px; overflow:hidden; text-align:left; box-shadow:0 5px 15px rgba(0,0,0,0.1); transition:0.3s; }
    .product-card:hover { transform:translateY(-5px); box-shadow:0 10px 25px rgba(0,0,0,0.15); }
    .product-card img { width:100%; height:180px; object-fit:cover; }
    .product-info { padding:15px; }
    .product-info h4 { color:#ff3f70; margin-bottom:5px; font-size:18px; }
    .product-info p { font-size:14px; color:#555; margin-bottom:10px; }
    .product-info span { font-weight:600; color:#333; }
    .product-info button { background:#ff6f91; color:white; border:none; padding:8px 10px; border-radius:12px; cursor:pointer; width:100%; transition:0.3s; }
    .product-info button:hover { background:#ff3f70; }

    /* Cart */
    #cartContainer { background:rgba(255,255,255,0.95); padding:20px; margin-top:30px; border-radius:20px; max-width:400px; margin:auto; box-shadow:0 10px 25px rgba(0,0,0,0.1); display:none; }
    #cartItems div { margin-bottom:10px; display:flex; justify-content:space-between; align-items:center; }
    #cartItems button { background:#ff3f70; color:white; border:none; padding:5px 8px; border-radius:10px; cursor:pointer; }
  </style>
</head>
<body>

  <!-- Auth -->
  <div class="auth-modal" id="authModal">
    <h1>Welcome to MoodBuy</h1>
    <input type="text" id="username" placeholder="Enter your username">
    <input type="password" id="password" placeholder="Enter your password">
    <button onclick="login()">Sign Up / Login</button>
  </div>

  <!-- Dashboard -->
  <div class="dashboard" id="dashboard">
    <h2>Hello, <span id="userDisplay"></span>!</h2>
    <p>Choose your mood adventure:</p>
    <div class="sections">
      <div class="section-card" onclick="showMoodInput('cravings')">
        <h3>Cravings</h3>
        <p>Find food that fits your mood. Filipino, dessert, snacks, you name it!</p>
      </div>
      <div class="section-card" onclick="showMoodInput('ootd')">
        <h3>OOTD</h3>
        <p>Get fashion, hairstyles, shoes, fragrances, and confidence tips.</p>
      </div>
    </div>

    <div class="mood-input" id="moodInputSection" style="display:none;">
      <input type="text" id="moodText" placeholder="Type your mood here...">
      <button onclick="processMood()">Submit</button>
      <button onclick="startVoiceRecognition()">üé§ Speak</button>
    </div>

    <!-- AI Response & Products -->
    <div class="ai-response" id="aiResponse" style="display:none;"></div>
    <div class="ai-products" id="aiProducts" style="display:none;"></div>

    <!-- Cart -->
    <div id="cartContainer">
      <h3>üõí Your Cart</h3>
      <div id="cartItems"></div>
      <button onclick="checkout()">Checkout</button>
    </div>
  </div>

  <script>
    let currentSection = '';
    let cart = [];

    const sampleProducts = {
      cravings:[
        {name:"Adobo Rice", brand:"Filipino Delights", price:"‚Ç±150", img:"images/adobo.jpg"},
        {name:"Halo-Halo", brand:"Dessert Paradise", price:"‚Ç±120", img:"images/halo_halo.jpg"},
        {name:"Cheese Sticks", brand:"SnackLab", price:"‚Ç±80", img:"images/cheese_sticks.jpg"}
      ],
      ootd:[
        {name:"Prom Gown", brand:"Glamour Fashion", price:"‚Ç±2500", img:"images/prom_gown.jpg"},
        {name:"Sneakers", brand:"Urban Steps", price:"‚Ç±1200", img:"images/sneakers.jpg"},
        {name:"Fragrance", brand:"Aroma Luxe", price:"‚Ç±950", img:"images/fragrance.jpg"}
      ]
    };

    // Login
    function login() {
      const username = document.getElementById('username').value;
      if(!username.trim()){ alert("Enter username!"); return; }
      document.getElementById('authModal').style.display = 'none';
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('userDisplay').textContent = username;
    }

    // Show mood input
    function showMoodInput(section){
      currentSection = section;
      document.getElementById('moodInputSection').style.display='flex';
      document.getElementById('aiResponse').style.display='none';
      document.getElementById('aiProducts').style.display='none';
      document.getElementById('moodText').value='';
    }

    // Mood-based background
    function setMoodBackground(mood){
      mood = mood.toLowerCase();
      let gradient = 'linear-gradient(135deg,#c3f0f2,#fbc3f5)';
      if(mood.includes('happy')||mood.includes('joy')||mood.includes('excited')) gradient='linear-gradient(135deg,#fff1b5,#ffd6a5)';
      else if(mood.includes('sad')||mood.includes('blue')||mood.includes('tired')) gradient='linear-gradient(135deg,#a1c4fd,#c2e9fb)';
      else if(mood.includes('love')||mood.includes('romantic')) gradient='linear-gradient(135deg,#ff9a9e,#fecfef)';
      else if(mood.includes('angry')||mood.includes('frustrated')) gradient='linear-gradient(135deg,#f5576c,#f093fb)';
      else if(mood.includes('relaxed')||mood.includes('calm')) gradient='linear-gradient(135deg,#d4fc79,#96e6a1)';
      document.body.style.background = gradient;
    }

    // Mood emoji
    function getMoodEmoji(mood){
      mood = mood.toLowerCase();
      if(mood.includes('happy')||mood.includes('joy')||mood.includes('excited')) return 'üòä';
      if(mood.includes('sad')||mood.includes('blue')||mood.includes('tired')) return 'üò¢';
      if(mood.includes('love')||mood.includes('romantic')) return 'üòç';
      if(mood.includes('angry')||mood.includes('frustrated')) return 'üò°';
      if(mood.includes('relaxed')||mood.includes('calm')) return 'üòå';
      return 'ü§î';
    }

    // Process mood
    function processMood(moodText){
      const mood = moodText || document.getElementById('moodText').value.trim();
      if(!mood){ alert("Enter mood"); return; }

      setMoodBackground(mood);
      const moodEmoji = getMoodEmoji(mood);

      const aiDiv = document.getElementById('aiResponse');
      const productsDiv = document.getElementById('aiProducts');

      aiDiv.style.display='block';
      productsDiv.style.display='grid';
      aiDiv.innerHTML = `ü§ñ AI is thinking about your mood "<em>${mood}</em>" ${moodEmoji}...üí°`;

      setTimeout(()=>{
        let response = '';
        let products = [];

        if(currentSection==='cravings'){
          response = `<strong>Cravings AI ${moodEmoji}:</strong> üçî Your mood "<em>${mood}</em>" suggests comfort food that feels good and cozy:<br>
          - Adobo with rice<br>- Halo-halo dessert<br>- Cheese sticks with dips<br>
          <em>Enjoy every bite and feel happy! üåü</em>`;
          products = sampleProducts.cravings;
        } else {
          response = `<strong>OOTD AI ${moodEmoji}:</strong> üëó For your "<em>${mood}</em>" vibe, we recommend outfits and accessories to boost your confidence:<br>
          - Elegant gown or suit<br>- Stylish shoes<br>- Fragrance that lifts your mood<br>- Hairstyle that makes you shine<br>
          <em>Walk tall and feel amazing! ‚ú®</em>`;
          products = sampleProducts.ootd;
        }

        aiDiv.innerHTML = response;
        productsDiv.innerHTML = '';
        products.forEach(p=>{
          productsDiv.innerHTML += `
            <div class="product-card">
              <img src="${p.img}" alt="${p.name}">
              <div class="product-info">
                <h4>${p.name}</h4>
                <p>${p.brand}</p>
                <span>${p.price}</span>
                <button onclick='addToCart(${JSON.stringify(p)})'>Add to Cart üõí</button>
              </div>
            </div>`;
        });

      },1000);
    }

    // Voice recognition
    function startVoiceRecognition(){
      if(!('webkitSpeechRecognition' in window)){ alert("Voice not supported"); return; }
      const recognition = new webkitSpeechRecognition();
      recognition.lang='en-US';
      recognition.interimResults=false;
      recognition.maxAlternatives=1;
      recognition.start();

      recognition.onresult = function(event){
        const voiceText = event.results[0][0].transcript;
        document.getElementById('moodText').value=voiceText;
        processMood(voiceText);
      }

      recognition.onerror=function(e){ alert("Voice error: "+e.error); }
    }

    // Cart
    function addToCart(product){
      cart.push(product);
      document.getElementById('cartContainer').style.display='block';
      renderCart();
    }

    function renderCart(){
      const cartItemsDiv=document.getElementById('cartItems');
      cartItemsDiv.innerHTML='';
      cart.forEach((item,index)=>{
        cartItemsDiv.innerHTML += `<div>${item.name} - ${item.price} <button onclick='removeFromCart(${index})'>‚ùå</button></div>`;
      });
    }

    function removeFromCart(index){
      cart.splice(index,1);
      renderCart();
      if(cart.length===0) document.getElementById('cartContainer').style.display='none';
    }

    function checkout(){
      if(cart.length===0){ alert("Cart is empty!"); return; }
      let total=cart.reduce((sum,item)=>sum+parseInt(item.price.replace("‚Ç±","")),0);
      alert(`Thank you for shopping! Total: ‚Ç±${total}`);
      cart=[]; renderCart();
      document.getElementById('cartContainer').style.display='none';
    }

  </script>

</body>
</html>
